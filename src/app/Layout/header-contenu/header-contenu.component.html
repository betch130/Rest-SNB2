<div class="header-container">
  <div class="logo-container">
    <a (click)="toggleSidebar()" href="#" class="sidebar-toggle">
      <nb-icon icon="menu-2-outline"></nb-icon>
    </a>
    <a class="logo" href="#" (click)="navigateHome()">SNB <sup>2</sup></a>
  </div>

</div>

<div class="header-container">
  <nb-icon icon="star"></nb-icon>
  <nb-actions size="small">

    <nb-action class="control-item">
      <nb-search type="rotate-layout"></nb-search>
    </nb-action>

    <nb-action class="user-action">
      <nb-user [nbContextMenu]="userMenu" [onlyPicture]="userPictureOnly" [name]="user.name" [picture]="user.picture">
      </nb-user>
    </nb-action>
  </nb-actions>
</div>


<ng-template #contentTemplate let-data>
  <nb-card [size]="'medium'" style="width: fit-content;">
    <nb-card-body>

      <br><br><br><br>


      <input class="input" #FileSelectInputDialog type="file" (change)="upload($event)" multiple />

      <div>
        <div class="border">
          <div class="borderwhite">
            <img class="photo" [src]="user.picture" (click)="OpenAddFilesDialog()">
          </div>

        </div>

      </div>


      <div>
        Identifiant:

        <div class="input-group">
          <input type="text" placeholder="Entrer  UserName" class="form-control" name="name" required nbInput
            [(ngModel)]="user1.UserName" (input)="Active()" [readonly]="modif">
        </div>

      </div> <br>
      <div>
        Email:

        <div class="input-group">
          <input type="email" placeholder="Entrer  Email" class="form-control" name="name" required nbInput
            [(ngModel)]="user1.Email" (input)="Active()">
        </div>

      </div> <br>
      <div>
        Password:

        <div class="input-group">
          <input type="password" placeholder="Entrer  Password" class="form-control" name="name" required nbInput
            [(ngModel)]="user1.Password" (input)="Active()">
        </div>

      </div> <br>

      <div>
        Phrase Secrete:

        <div class="input-group">
          <input type="text" placeholder="Entrer  Droit" class="form-control" name="name" required nbInput
            [(ngModel)]="user1.Secret" (input)="Active()">
        </div>

      </div> <br>







      <div class="alert alert-danger taille" *ngIf="!active1 && !modif">
        Un ou plusieur Champs n'ont pas été renseignés
      </div>
      <div class="alert alert-danger taille" *ngIf="!active1 && modif">
        Aucun champs n'a été modifié
      </div>
      <div align='center'>
        <button class="prev-button" nbButton disabled nbStepperNext>Précédent</button>
        <button class="next-button" nbButton nbStepperNext *ngIf="active1" (click)="Edit()">Valider</button>
        <button class="next-button" nbButton nbStepperNext *ngIf="!active1" disabled>Valider</button>
      </div>

    </nb-card-body>
  </nb-card>


</ng-template>

<ng-template #notifTemplate>

  <button (click)="loading=true;AvancerTous()" [nbSpinner]="loading" nbSpinnerStatus="success" nbButton expand="block"
    fill="clear" shape="round">
    Avancer tout le monde
  </button>

  <nb-accordion [nbSpinner]="loading_single" nbSpinnerStatus="success" nbSpinnerSize="medium" nbSpinnerMessage=""
    *ngFor="let x of NotifDatas">
    <nb-accordion-item>
      <nb-accordion-item-header>
        <ion-item width="100%" lines="none">
          <ion-avatar item-left>
            <img [src]="x.photo">
          </ion-avatar>
          {{x.nom}}
        </ion-item>

      </nb-accordion-item-header>


      <nb-accordion-item-body>
        <p>
          {{x.new}}
        </p>
        <div align="center">
          <button [nbSpinner]="loading_single" nbSpinnerStatus="success" nbButton
            (click)="loading_single=true;Avancer(x)" color="success" expand="block" fill="clear" shape="round">
            Avancer
          </button>
        </div>
      </nb-accordion-item-body>
    </nb-accordion-item>



  </nb-accordion>
</ng-template>